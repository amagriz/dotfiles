"use strict";var bo=Object.create;var nt=Object.defineProperty;var $o=Object.getOwnPropertyDescriptor;var vo=Object.getOwnPropertyNames;var wo=Object.getPrototypeOf,So=Object.prototype.hasOwnProperty;var P=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ko=(t,e)=>{for(var r in e)nt(t,r,{get:e[r],enumerable:!0})},Ar=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of vo(e))!So.call(t,a)&&a!==r&&nt(t,a,{get:()=>e[a],enumerable:!(n=$o(e,a))||n.enumerable});return t};var le=(t,e,r)=>(r=t!=null?bo(wo(t)):{},Ar(e||!t||!t.__esModule?nt(r,"default",{value:t,enumerable:!0}):r,t)),xo=t=>Ar(nt({},"__esModule",{value:!0}),t);var ve=P((Ec,Wr)=>{"use strict";Wr.exports=TypeError});var zr=P((Pc,Vr)=>{Vr.exports=require("util").inspect});var Ge=P((Ic,un)=>{var Ht=typeof Map=="function"&&Map.prototype,Ut=Object.getOwnPropertyDescriptor&&Ht?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ut=Ht&&Ut&&typeof Ut.get=="function"?Ut.get:null,Br=Ht&&Map.prototype.forEach,Kt=typeof Set=="function"&&Set.prototype,Ft=Object.getOwnPropertyDescriptor&&Kt?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ft=Kt&&Ft&&typeof Ft.get=="function"?Ft.get:null,qr=Kt&&Set.prototype.forEach,zo=typeof WeakMap=="function"&&WeakMap.prototype,ze=zo?WeakMap.prototype.has:null,Bo=typeof WeakSet=="function"&&WeakSet.prototype,Be=Bo?WeakSet.prototype.has:null,qo=typeof WeakRef=="function"&&WeakRef.prototype,Gr=qo?WeakRef.prototype.deref:null,Go=Boolean.prototype.valueOf,Ho=Object.prototype.toString,Ko=Function.prototype.toString,Yo=String.prototype.match,Yt=String.prototype.slice,pe=String.prototype.replace,Jo=String.prototype.toUpperCase,Hr=String.prototype.toLowerCase,rn=RegExp.prototype.test,Kr=Array.prototype.concat,ne=Array.prototype.join,Zo=Array.prototype.slice,Yr=Math.floor,Vt=typeof BigInt=="function"?BigInt.prototype.valueOf:null,jt=Object.getOwnPropertySymbols,zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Re=typeof Symbol=="function"&&typeof Symbol.iterator=="object",qe=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Re||!0)?Symbol.toStringTag:null,nn=Object.prototype.propertyIsEnumerable,Jr=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Zr(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||rn.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Yr(-t):Yr(t);if(n!==t){var a=String(n),o=Yt.call(e,a.length+1);return pe.call(a,r,"$&_")+"."+pe.call(pe.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return pe.call(e,r,"$&_")}var Bt=zr(),Qr=Bt.custom,Xr=sn(Qr)?Qr:null,an={__proto__:null,double:'"',single:"'"},Qo={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};un.exports=function t(e,r,n,a){var o=r||{};if(ue(o,"quoteStyle")&&!ue(an,o.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ue(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var i=ue(o,"customInspect")?o.customInspect:!0;if(typeof i!="boolean"&&i!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ue(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ue(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var c=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return ln(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var s=String(e);return c?Zr(e,s):s}if(typeof e=="bigint"){var u=String(e)+"n";return c?Zr(e,u):u}var f=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return qt(e)?"[Array]":"[Object]";var l=yi(o,n);if(typeof a>"u")a=[];else if(cn(a,e)>=0)return"[Circular]";function d(g,y,m){if(y&&(a=Zo.call(a),a.push(y)),m){var b={depth:o.depth};return ue(o,"quoteStyle")&&(b.quoteStyle=o.quoteStyle),t(g,b,n+1,a)}return t(g,o,n+1,a)}if(typeof e=="function"&&!en(e)){var S=si(e),x=lt(e,d);return"[Function"+(S?": "+S:" (anonymous)")+"]"+(x.length>0?" { "+ne.call(x,", ")+" }":"")}if(sn(e)){var T=Re?pe.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):zt.call(e);return typeof e=="object"&&!Re?Ve(T):T}if(pi(e)){for(var C="<"+Hr.call(String(e.nodeName)),p=e.attributes||[],v=0;v<p.length;v++)C+=" "+p[v].name+"="+on(Xo(p[v].value),"double",o);return C+=">",e.childNodes&&e.childNodes.length&&(C+="..."),C+="</"+Hr.call(String(e.nodeName))+">",C}if(qt(e)){if(e.length===0)return"[]";var $=lt(e,d);return l&&!mi($)?"["+Gt($,l)+"]":"[ "+ne.call($,", ")+" ]"}if(ti(e)){var A=lt(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!nn.call(e,"cause")?"{ ["+String(e)+"] "+ne.call(Kr.call("[cause]: "+d(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ne.call(A,", ")+" }"}if(typeof e=="object"&&i){if(Xr&&typeof e[Xr]=="function"&&Bt)return Bt(e,{depth:f-n});if(i!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(ci(e)){var N=[];return Br&&Br.call(e,function(g,y){N.push(d(y,e,!0)+" => "+d(g,e))}),tn("Map",ut.call(e),N,l)}if(fi(e)){var j=[];return qr&&qr.call(e,function(g){j.push(d(g,e))}),tn("Set",ft.call(e),j,l)}if(li(e))return Wt("WeakMap");if(di(e))return Wt("WeakSet");if(ui(e))return Wt("WeakRef");if(ni(e))return Ve(d(Number(e)));if(oi(e))return Ve(d(Vt.call(e)));if(ai(e))return Ve(Go.call(e));if(ri(e))return Ve(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof global<"u"&&e===global)return"{ [object globalThis] }";if(!ei(e)&&!en(e)){var q=lt(e,d),W=Jr?Jr(e)===Object.prototype:e instanceof Object||e.constructor===Object,R=e instanceof Object?"":"null prototype",J=!W&&qe&&Object(e)===e&&qe in e?Yt.call(he(e),8,-1):R?"Object":"",K=W||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",w=K+(J||R?"["+ne.call(Kr.call([],J||[],R||[]),": ")+"] ":"");return q.length===0?w+"{}":l?w+"{"+Gt(q,l)+"}":w+"{ "+ne.call(q,", ")+" }"}return String(e)};function on(t,e,r){var n=r.quoteStyle||e,a=an[n];return a+t+a}function Xo(t){return pe.call(String(t),/"/g,"&quot;")}function we(t){return!qe||!(typeof t=="object"&&(qe in t||typeof t[qe]<"u"))}function qt(t){return he(t)==="[object Array]"&&we(t)}function ei(t){return he(t)==="[object Date]"&&we(t)}function en(t){return he(t)==="[object RegExp]"&&we(t)}function ti(t){return he(t)==="[object Error]"&&we(t)}function ri(t){return he(t)==="[object String]"&&we(t)}function ni(t){return he(t)==="[object Number]"&&we(t)}function ai(t){return he(t)==="[object Boolean]"&&we(t)}function sn(t){if(Re)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!zt)return!1;try{return zt.call(t),!0}catch{}return!1}function oi(t){if(!t||typeof t!="object"||!Vt)return!1;try{return Vt.call(t),!0}catch{}return!1}var ii=Object.prototype.hasOwnProperty||function(t){return t in this};function ue(t,e){return ii.call(t,e)}function he(t){return Ho.call(t)}function si(t){if(t.name)return t.name;var e=Yo.call(Ko.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function cn(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function ci(t){if(!ut||!t||typeof t!="object")return!1;try{ut.call(t);try{ft.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function li(t){if(!ze||!t||typeof t!="object")return!1;try{ze.call(t,ze);try{Be.call(t,Be)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function ui(t){if(!Gr||!t||typeof t!="object")return!1;try{return Gr.call(t),!0}catch{}return!1}function fi(t){if(!ft||!t||typeof t!="object")return!1;try{ft.call(t);try{ut.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function di(t){if(!Be||!t||typeof t!="object")return!1;try{Be.call(t,Be);try{ze.call(t,ze)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function pi(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function ln(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return ln(Yt.call(t,0,e.maxStringLength),e)+n}var a=Qo[e.quoteStyle||"single"];a.lastIndex=0;var o=pe.call(pe.call(t,a,"\\$1"),/[\x00-\x1f]/g,hi);return on(o,"single",e)}function hi(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Jo.call(e.toString(16))}function Ve(t){return"Object("+t+")"}function Wt(t){return t+" { ? }"}function tn(t,e,r,n){var a=n?Gt(r,n):ne.call(r,", ");return t+" ("+e+") {"+a+"}"}function mi(t){for(var e=0;e<t.length;e++)if(cn(t[e],`
`)>=0)return!1;return!0}function yi(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=ne.call(Array(t.indent+1)," ");else return null;return{base:r,prev:ne.call(Array(e+1),r)}}function Gt(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+ne.call(t,","+r)+`
`+e.prev}function lt(t,e){var r=qt(t),n=[];if(r){n.length=t.length;for(var a=0;a<t.length;a++)n[a]=ue(t,a)?e(t[a],t):""}var o=typeof jt=="function"?jt(t):[],i;if(Re){i={};for(var c=0;c<o.length;c++)i["$"+o[c]]=o[c]}for(var s in t)ue(t,s)&&(r&&String(Number(s))===s&&s<t.length||Re&&i["$"+s]instanceof Symbol||(rn.call(/[^\w$]/,s)?n.push(e(s,t)+": "+e(t[s],t)):n.push(s+": "+e(t[s],t))));if(typeof jt=="function")for(var u=0;u<o.length;u++)nn.call(t,o[u])&&n.push("["+e(o[u])+"]: "+e(t[o[u]],t));return n}});var dn=P((Oc,fn)=>{"use strict";var gi=Ge(),bi=ve(),dt=function(t,e,r){for(var n=t,a;(a=n.next)!=null;n=a)if(a.key===e)return n.next=a.next,r||(a.next=t.next,t.next=a),a},$i=function(t,e){if(t){var r=dt(t,e);return r&&r.value}},vi=function(t,e,r){var n=dt(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},wi=function(t,e){return t?!!dt(t,e):!1},Si=function(t,e){if(t)return dt(t,e,!0)};fn.exports=function(){var e,r={assert:function(n){if(!r.has(n))throw new bi("Side channel does not contain "+gi(n))},delete:function(n){var a=e&&e.next,o=Si(e,n);return o&&a&&a===o&&(e=void 0),!!o},get:function(n){return $i(e,n)},has:function(n){return wi(e,n)},set:function(n,a){e||(e={next:void 0}),vi(e,n,a)}};return r}});var Jt=P((Dc,pn)=>{"use strict";pn.exports=Object});var mn=P((Rc,hn)=>{"use strict";hn.exports=Error});var gn=P((Cc,yn)=>{"use strict";yn.exports=EvalError});var $n=P((_c,bn)=>{"use strict";bn.exports=RangeError});var wn=P((Mc,vn)=>{"use strict";vn.exports=ReferenceError});var kn=P((Lc,Sn)=>{"use strict";Sn.exports=SyntaxError});var An=P((Nc,xn)=>{"use strict";xn.exports=URIError});var En=P((Uc,Tn)=>{"use strict";Tn.exports=Math.abs});var In=P((Fc,Pn)=>{"use strict";Pn.exports=Math.floor});var Dn=P((jc,On)=>{"use strict";On.exports=Math.max});var Cn=P((Wc,Rn)=>{"use strict";Rn.exports=Math.min});var Mn=P((Vc,_n)=>{"use strict";_n.exports=Math.pow});var Nn=P((zc,Ln)=>{"use strict";Ln.exports=Math.round});var Fn=P((Bc,Un)=>{"use strict";Un.exports=Number.isNaN||function(e){return e!==e}});var Wn=P((qc,jn)=>{"use strict";var ki=Fn();jn.exports=function(e){return ki(e)||e===0?e:e<0?-1:1}});var zn=P((Gc,Vn)=>{"use strict";Vn.exports=Object.getOwnPropertyDescriptor});var Zt=P((Hc,Bn)=>{"use strict";var pt=zn();if(pt)try{pt([],"length")}catch{pt=null}Bn.exports=pt});var Gn=P((Kc,qn)=>{"use strict";var ht=Object.defineProperty||!1;if(ht)try{ht({},"a",{value:1})}catch{ht=!1}qn.exports=ht});var Kn=P((Yc,Hn)=>{"use strict";Hn.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,r);if(c.value!==a||c.enumerable!==!0)return!1}return!0}});var Zn=P((Jc,Jn)=>{"use strict";var Yn=typeof Symbol<"u"&&Symbol,xi=Kn();Jn.exports=function(){return typeof Yn!="function"||typeof Symbol!="function"||typeof Yn("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:xi()}});var Qt=P((Zc,Qn)=>{"use strict";Qn.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var Xt=P((Qc,Xn)=>{"use strict";var Ai=Jt();Xn.exports=Ai.getPrototypeOf||null});var ra=P((Xc,ta)=>{"use strict";var Ti="Function.prototype.bind called on incompatible ",Ei=Object.prototype.toString,Pi=Math.max,Ii="[object Function]",ea=function(e,r){for(var n=[],a=0;a<e.length;a+=1)n[a]=e[a];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},Oi=function(e,r){for(var n=[],a=r||0,o=0;a<e.length;a+=1,o+=1)n[o]=e[a];return n},Di=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};ta.exports=function(e){var r=this;if(typeof r!="function"||Ei.apply(r)!==Ii)throw new TypeError(Ti+r);for(var n=Oi(arguments,1),a,o=function(){if(this instanceof a){var f=r.apply(this,ea(n,arguments));return Object(f)===f?f:this}return r.apply(e,ea(n,arguments))},i=Pi(0,r.length-n.length),c=[],s=0;s<i;s++)c[s]="$"+s;if(a=Function("binder","return function ("+Di(c,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var u=function(){};u.prototype=r.prototype,a.prototype=new u,u.prototype=null}return a}});var He=P((el,na)=>{"use strict";var Ri=ra();na.exports=Function.prototype.bind||Ri});var mt=P((tl,aa)=>{"use strict";aa.exports=Function.prototype.call});var er=P((rl,oa)=>{"use strict";oa.exports=Function.prototype.apply});var sa=P((nl,ia)=>{"use strict";ia.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var la=P((al,ca)=>{"use strict";var Ci=He(),_i=er(),Mi=mt(),Li=sa();ca.exports=Li||Ci.call(Mi,_i)});var tr=P((ol,ua)=>{"use strict";var Ni=He(),Ui=ve(),Fi=mt(),ji=la();ua.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new Ui("a function is required");return ji(Ni,Fi,e)}});var ya=P((il,ma)=>{"use strict";var Wi=tr(),fa=Zt(),pa;try{pa=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var rr=!!pa&&fa&&fa(Object.prototype,"__proto__"),ha=Object,da=ha.getPrototypeOf;ma.exports=rr&&typeof rr.get=="function"?Wi([rr.get]):typeof da=="function"?function(e){return da(e==null?e:ha(e))}:!1});var wa=P((sl,va)=>{"use strict";var ga=Qt(),ba=Xt(),$a=ya();va.exports=ga?function(e){return ga(e)}:ba?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return ba(e)}:$a?function(e){return $a(e)}:null});var ka=P((cl,Sa)=>{"use strict";var Vi=Function.prototype.call,zi=Object.prototype.hasOwnProperty,Bi=He();Sa.exports=Bi.call(Vi,zi)});var bt=P((ll,Ia)=>{"use strict";var _,qi=Jt(),Gi=mn(),Hi=gn(),Ki=$n(),Yi=wn(),Le=kn(),Me=ve(),Ji=An(),Zi=En(),Qi=In(),Xi=Dn(),es=Cn(),ts=Mn(),rs=Nn(),ns=Wn(),Ea=Function,nr=function(t){try{return Ea('"use strict"; return ('+t+").constructor;")()}catch{}},Ke=Zt(),as=Gn(),ar=function(){throw new Me},os=Ke?(function(){try{return arguments.callee,ar}catch{try{return Ke(arguments,"callee").get}catch{return ar}}})():ar,Ce=Zn()(),H=wa(),is=Xt(),ss=Qt(),Pa=er(),Ye=mt(),_e={},cs=typeof Uint8Array>"u"||!H?_:H(Uint8Array),Se={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?_:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?_:ArrayBuffer,"%ArrayIteratorPrototype%":Ce&&H?H([][Symbol.iterator]()):_,"%AsyncFromSyncIteratorPrototype%":_,"%AsyncFunction%":_e,"%AsyncGenerator%":_e,"%AsyncGeneratorFunction%":_e,"%AsyncIteratorPrototype%":_e,"%Atomics%":typeof Atomics>"u"?_:Atomics,"%BigInt%":typeof BigInt>"u"?_:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?_:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?_:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?_:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Gi,"%eval%":eval,"%EvalError%":Hi,"%Float16Array%":typeof Float16Array>"u"?_:Float16Array,"%Float32Array%":typeof Float32Array>"u"?_:Float32Array,"%Float64Array%":typeof Float64Array>"u"?_:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?_:FinalizationRegistry,"%Function%":Ea,"%GeneratorFunction%":_e,"%Int8Array%":typeof Int8Array>"u"?_:Int8Array,"%Int16Array%":typeof Int16Array>"u"?_:Int16Array,"%Int32Array%":typeof Int32Array>"u"?_:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ce&&H?H(H([][Symbol.iterator]())):_,"%JSON%":typeof JSON=="object"?JSON:_,"%Map%":typeof Map>"u"?_:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ce||!H?_:H(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":qi,"%Object.getOwnPropertyDescriptor%":Ke,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?_:Promise,"%Proxy%":typeof Proxy>"u"?_:Proxy,"%RangeError%":Ki,"%ReferenceError%":Yi,"%Reflect%":typeof Reflect>"u"?_:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?_:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ce||!H?_:H(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?_:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ce&&H?H(""[Symbol.iterator]()):_,"%Symbol%":Ce?Symbol:_,"%SyntaxError%":Le,"%ThrowTypeError%":os,"%TypedArray%":cs,"%TypeError%":Me,"%Uint8Array%":typeof Uint8Array>"u"?_:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?_:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?_:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?_:Uint32Array,"%URIError%":Ji,"%WeakMap%":typeof WeakMap>"u"?_:WeakMap,"%WeakRef%":typeof WeakRef>"u"?_:WeakRef,"%WeakSet%":typeof WeakSet>"u"?_:WeakSet,"%Function.prototype.call%":Ye,"%Function.prototype.apply%":Pa,"%Object.defineProperty%":as,"%Object.getPrototypeOf%":is,"%Math.abs%":Zi,"%Math.floor%":Qi,"%Math.max%":Xi,"%Math.min%":es,"%Math.pow%":ts,"%Math.round%":rs,"%Math.sign%":ns,"%Reflect.getPrototypeOf%":ss};if(H)try{null.error}catch(t){xa=H(H(t)),Se["%Error.prototype%"]=xa}var xa,ls=function t(e){var r;if(e==="%AsyncFunction%")r=nr("async function () {}");else if(e==="%GeneratorFunction%")r=nr("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=nr("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&H&&(r=H(a.prototype))}return Se[e]=r,r},Aa={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Je=He(),yt=ka(),us=Je.call(Ye,Array.prototype.concat),fs=Je.call(Pa,Array.prototype.splice),Ta=Je.call(Ye,String.prototype.replace),gt=Je.call(Ye,String.prototype.slice),ds=Je.call(Ye,RegExp.prototype.exec),ps=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,hs=/\\(\\)?/g,ms=function(e){var r=gt(e,0,1),n=gt(e,-1);if(r==="%"&&n!=="%")throw new Le("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Le("invalid intrinsic syntax, expected opening `%`");var a=[];return Ta(e,ps,function(o,i,c,s){a[a.length]=c?Ta(s,hs,"$1"):i||o}),a},ys=function(e,r){var n=e,a;if(yt(Aa,n)&&(a=Aa[n],n="%"+a[0]+"%"),yt(Se,n)){var o=Se[n];if(o===_e&&(o=ls(n)),typeof o>"u"&&!r)throw new Me("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:o}}throw new Le("intrinsic "+e+" does not exist!")};Ia.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new Me("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Me('"allowMissing" argument must be a boolean');if(ds(/^%?[^%]*%?$/,e)===null)throw new Le("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ms(e),a=n.length>0?n[0]:"",o=ys("%"+a+"%",r),i=o.name,c=o.value,s=!1,u=o.alias;u&&(a=u[0],fs(n,us([0,1],u)));for(var f=1,l=!0;f<n.length;f+=1){var d=n[f],S=gt(d,0,1),x=gt(d,-1);if((S==='"'||S==="'"||S==="`"||x==='"'||x==="'"||x==="`")&&S!==x)throw new Le("property names with quotes must have matching quotes");if((d==="constructor"||!l)&&(s=!0),a+="."+d,i="%"+a+"%",yt(Se,i))c=Se[i];else if(c!=null){if(!(d in c)){if(!r)throw new Me("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ke&&f+1>=n.length){var T=Ke(c,d);l=!!T,l&&"get"in T&&!("originalValue"in T.get)?c=T.get:c=c[d]}else l=yt(c,d),c=c[d];l&&!s&&(Se[i]=c)}}return c}});var or=P((ul,Ra)=>{"use strict";var Oa=bt(),Da=tr(),gs=Da([Oa("%String.prototype.indexOf%")]);Ra.exports=function(e,r){var n=Oa(e,!!r);return typeof n=="function"&&gs(e,".prototype.")>-1?Da([n]):n}});var ir=P((fl,_a)=>{"use strict";var bs=bt(),Ze=or(),$s=Ge(),vs=ve(),Ca=bs("%Map%",!0),ws=Ze("Map.prototype.get",!0),Ss=Ze("Map.prototype.set",!0),ks=Ze("Map.prototype.has",!0),xs=Ze("Map.prototype.delete",!0),As=Ze("Map.prototype.size",!0);_a.exports=!!Ca&&function(){var e,r={assert:function(n){if(!r.has(n))throw new vs("Side channel does not contain "+$s(n))},delete:function(n){if(e){var a=xs(e,n);return As(e)===0&&(e=void 0),a}return!1},get:function(n){if(e)return ws(e,n)},has:function(n){return e?ks(e,n):!1},set:function(n,a){e||(e=new Ca),Ss(e,n,a)}};return r}});var La=P((dl,Ma)=>{"use strict";var Ts=bt(),vt=or(),Es=Ge(),$t=ir(),Ps=ve(),Ne=Ts("%WeakMap%",!0),Is=vt("WeakMap.prototype.get",!0),Os=vt("WeakMap.prototype.set",!0),Ds=vt("WeakMap.prototype.has",!0),Rs=vt("WeakMap.prototype.delete",!0);Ma.exports=Ne?function(){var e,r,n={assert:function(a){if(!n.has(a))throw new Ps("Side channel does not contain "+Es(a))},delete:function(a){if(Ne&&a&&(typeof a=="object"||typeof a=="function")){if(e)return Rs(e,a)}else if($t&&r)return r.delete(a);return!1},get:function(a){return Ne&&a&&(typeof a=="object"||typeof a=="function")&&e?Is(e,a):r&&r.get(a)},has:function(a){return Ne&&a&&(typeof a=="object"||typeof a=="function")&&e?Ds(e,a):!!r&&r.has(a)},set:function(a,o){Ne&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new Ne),Os(e,a,o)):$t&&(r||(r=$t()),r.set(a,o))}};return n}:$t});var Ua=P((pl,Na)=>{"use strict";var Cs=ve(),_s=Ge(),Ms=dn(),Ls=ir(),Ns=La(),Us=Ns||Ls||Ms;Na.exports=function(){var e,r={assert:function(n){if(!r.has(n))throw new Cs("Side channel does not contain "+_s(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,a){e||(e=Us()),e.set(n,a)}};return r}});var wt=P((hl,Fa)=>{"use strict";var Fs=String.prototype.replace,js=/%20/g,sr={RFC1738:"RFC1738",RFC3986:"RFC3986"};Fa.exports={default:sr.RFC3986,formatters:{RFC1738:function(t){return Fs.call(t,js,"+")},RFC3986:function(t){return String(t)}},RFC1738:sr.RFC1738,RFC3986:sr.RFC3986}});var ur=P((ml,Wa)=>{"use strict";var Ws=wt(),cr=Object.prototype.hasOwnProperty,ke=Array.isArray,ae=(function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Vs=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(ke(n)){for(var a=[],o=0;o<n.length;++o)typeof n[o]<"u"&&a.push(n[o]);r.obj[r.prop]=a}}},ja=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},a=0;a<e.length;++a)typeof e[a]<"u"&&(n[a]=e[a]);return n},zs=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(ke(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!cr.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var a=e;return ke(e)&&!ke(r)&&(a=ja(e,n)),ke(e)&&ke(r)?(r.forEach(function(o,i){if(cr.call(e,i)){var c=e[i];c&&typeof c=="object"&&o&&typeof o=="object"?e[i]=t(c,o,n):e.push(o)}else e[i]=o}),e):Object.keys(r).reduce(function(o,i){var c=r[i];return cr.call(o,i)?o[i]=t(o[i],c,n):o[i]=c,o},a)},Bs=function(e,r){return Object.keys(r).reduce(function(n,a){return n[a]=r[a],n},e)},qs=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},lr=1024,Gs=function(e,r,n,a,o){if(e.length===0)return e;var i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(S){return"%26%23"+parseInt(S.slice(2),16)+"%3B"});for(var c="",s=0;s<i.length;s+=lr){for(var u=i.length>=lr?i.slice(s,s+lr):i,f=[],l=0;l<u.length;++l){var d=u.charCodeAt(l);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===Ws.RFC1738&&(d===40||d===41)){f[f.length]=u.charAt(l);continue}if(d<128){f[f.length]=ae[d];continue}if(d<2048){f[f.length]=ae[192|d>>6]+ae[128|d&63];continue}if(d<55296||d>=57344){f[f.length]=ae[224|d>>12]+ae[128|d>>6&63]+ae[128|d&63];continue}l+=1,d=65536+((d&1023)<<10|u.charCodeAt(l)&1023),f[f.length]=ae[240|d>>18]+ae[128|d>>12&63]+ae[128|d>>6&63]+ae[128|d&63]}c+=f.join("")}return c},Hs=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],a=0;a<r.length;++a)for(var o=r[a],i=o.obj[o.prop],c=Object.keys(i),s=0;s<c.length;++s){var u=c[s],f=i[u];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:i,prop:u}),n.push(f))}return Vs(r),e},Ks=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Ys=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Js=function(e,r){return[].concat(e,r)},Zs=function(e,r){if(ke(e)){for(var n=[],a=0;a<e.length;a+=1)n.push(r(e[a]));return n}return r(e)};Wa.exports={arrayToObject:ja,assign:Bs,combine:Js,compact:Hs,decode:qs,encode:Gs,isBuffer:Ys,isRegExp:Ks,maybeMap:Zs,merge:zs}});var Ha=P((yl,Ga)=>{"use strict";var za=Ua(),St=ur(),Qe=wt(),Qs=Object.prototype.hasOwnProperty,Ba={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},oe=Array.isArray,Xs=Array.prototype.push,qa=function(t,e){Xs.apply(t,oe(e)?e:[e])},ec=Date.prototype.toISOString,Va=Qe.default,B={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:St.encode,encodeValuesOnly:!1,filter:void 0,format:Va,formatter:Qe.formatters[Va],indices:!1,serializeDate:function(e){return ec.call(e)},skipNulls:!1,strictNullHandling:!1},tc=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},fr={},rc=function t(e,r,n,a,o,i,c,s,u,f,l,d,S,x,T,C,p,v){for(var $=e,A=v,N=0,j=!1;(A=A.get(fr))!==void 0&&!j;){var q=A.get(e);if(N+=1,typeof q<"u"){if(q===N)throw new RangeError("Cyclic object value");j=!0}typeof A.get(fr)>"u"&&(N=0)}if(typeof f=="function"?$=f(r,$):$ instanceof Date?$=S($):n==="comma"&&oe($)&&($=St.maybeMap($,function(V){return V instanceof Date?S(V):V})),$===null){if(i)return u&&!C?u(r,B.encoder,p,"key",x):r;$=""}if(tc($)||St.isBuffer($)){if(u){var W=C?r:u(r,B.encoder,p,"key",x);return[T(W)+"="+T(u($,B.encoder,p,"value",x))]}return[T(r)+"="+T(String($))]}var R=[];if(typeof $>"u")return R;var J;if(n==="comma"&&oe($))C&&u&&($=St.maybeMap($,u)),J=[{value:$.length>0?$.join(",")||null:void 0}];else if(oe(f))J=f;else{var K=Object.keys($);J=l?K.sort(l):K}var w=s?String(r).replace(/\./g,"%2E"):String(r),g=a&&oe($)&&$.length===1?w+"[]":w;if(o&&oe($)&&$.length===0)return g+"[]";for(var y=0;y<J.length;++y){var m=J[y],b=typeof m=="object"&&m&&typeof m.value<"u"?m.value:$[m];if(!(c&&b===null)){var E=d&&s?String(m).replace(/\./g,"%2E"):String(m),I=oe($)?typeof n=="function"?n(g,E):g:g+(d?"."+E:"["+E+"]");v.set(e,N);var U=za();U.set(fr,v),qa(R,t(b,I,n,a,o,i,c,s,n==="comma"&&C&&oe($)?null:u,f,l,d,S,x,T,C,p,U))}}return R},nc=function(e){if(!e)return B;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||B.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Qe.default;if(typeof e.format<"u"){if(!Qs.call(Qe.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var a=Qe.formatters[n],o=B.filter;(typeof e.filter=="function"||oe(e.filter))&&(o=e.filter);var i;if(e.arrayFormat in Ba?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=B.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:B.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:B.addQueryPrefix,allowDots:c,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:B.allowEmptyArrays,arrayFormat:i,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:B.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?B.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:B.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:B.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:B.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:B.encodeValuesOnly,filter:o,format:n,formatter:a,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:B.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:B.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:B.strictNullHandling}};Ga.exports=function(t,e){var r=t,n=nc(e),a,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):oe(n.filter)&&(o=n.filter,a=o);var i=[];if(typeof r!="object"||r===null)return"";var c=Ba[n.arrayFormat],s=c==="comma"&&n.commaRoundTrip;a||(a=Object.keys(r)),n.sort&&a.sort(n.sort);for(var u=za(),f=0;f<a.length;++f){var l=a[f],d=r[l];n.skipNulls&&d===null||qa(i,rc(d,l,c,s,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var S=i.join(n.delimiter),x=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),S.length>0?x+S:""}});var Za=P((gl,Ja)=>{"use strict";var xe=ur(),dr=Object.prototype.hasOwnProperty,Ka=Array.isArray,z={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:xe.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},ac=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Ya=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},oc="utf8=%26%2310003%3B",ic="utf8=%E2%9C%93",sc=function(e,r){var n={__proto__:null},a=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;a=a.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var o=r.parameterLimit===1/0?void 0:r.parameterLimit,i=a.split(r.delimiter,r.throwOnLimitExceeded?o+1:o);if(r.throwOnLimitExceeded&&i.length>o)throw new RangeError("Parameter limit exceeded. Only "+o+" parameter"+(o===1?"":"s")+" allowed.");var c=-1,s,u=r.charset;if(r.charsetSentinel)for(s=0;s<i.length;++s)i[s].indexOf("utf8=")===0&&(i[s]===ic?u="utf-8":i[s]===oc&&(u="iso-8859-1"),c=s,s=i.length);for(s=0;s<i.length;++s)if(s!==c){var f=i[s],l=f.indexOf("]="),d=l===-1?f.indexOf("="):l+1,S,x;d===-1?(S=r.decoder(f,z.decoder,u,"key"),x=r.strictNullHandling?null:""):(S=r.decoder(f.slice(0,d),z.decoder,u,"key"),x=xe.maybeMap(Ya(f.slice(d+1),r,Ka(n[S])?n[S].length:0),function(C){return r.decoder(C,z.decoder,u,"value")})),x&&r.interpretNumericEntities&&u==="iso-8859-1"&&(x=ac(String(x))),f.indexOf("[]=")>-1&&(x=Ka(x)?[x]:x);var T=dr.call(n,S);T&&r.duplicates==="combine"?n[S]=xe.combine(n[S],x):(!T||r.duplicates==="last")&&(n[S]=x)}return n},cc=function(t,e,r,n){var a=0;if(t.length>0&&t[t.length-1]==="[]"){var o=t.slice(0,-1).join("");a=Array.isArray(e)&&e[o]?e[o].length:0}for(var i=n?e:Ya(e,r,a),c=t.length-1;c>=0;--c){var s,u=t[c];if(u==="[]"&&r.parseArrays)s=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:xe.combine([],i);else{s=r.plainObjects?{__proto__:null}:{};var f=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,l=r.decodeDotInKeys?f.replace(/%2E/g,"."):f,d=parseInt(l,10);!r.parseArrays&&l===""?s={0:i}:!isNaN(d)&&u!==l&&String(d)===l&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(s=[],s[d]=i):l!=="__proto__"&&(s[l]=i)}i=s}return i},lc=function(e,r,n,a){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,s=n.depth>0&&i.exec(o),u=s?o.slice(0,s.index):o,f=[];if(u){if(!n.plainObjects&&dr.call(Object.prototype,u)&&!n.allowPrototypes)return;f.push(u)}for(var l=0;n.depth>0&&(s=c.exec(o))!==null&&l<n.depth;){if(l+=1,!n.plainObjects&&dr.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(s[1])}if(s){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");f.push("["+o.slice(s.index)+"]")}return cc(f,r,n,a)}},uc=function(e){if(!e)return z;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?z.charset:e.charset,n=typeof e.duplicates>"u"?z.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var a=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:z.allowDots:!!e.allowDots;return{allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:z.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:z.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:z.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:z.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:z.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:z.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:z.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:z.decoder,delimiter:typeof e.delimiter=="string"||xe.isRegExp(e.delimiter)?e.delimiter:z.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:z.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:z.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:z.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:z.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:z.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:z.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}};Ja.exports=function(t,e){var r=uc(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?sc(t,r):t,a=r.plainObjects?{__proto__:null}:{},o=Object.keys(n),i=0;i<o.length;++i){var c=o[i],s=lc(c,n[c],r,typeof t=="string");a=xe.merge(a,s,r)}return r.allowSparse===!0?a:xe.compact(a)}});var Xa=P((bl,Qa)=>{"use strict";var fc=Ha(),dc=Za(),pc=wt();Qa.exports={formats:pc,parse:dc,stringify:fc}});var gr=P((mr,yr)=>{(function(t,e){typeof mr=="object"&&typeof yr<"u"?yr.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs=e()})(mr,(function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",a="second",o="minute",i="hour",c="day",s="week",u="month",f="quarter",l="year",d="date",S="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var g=["th","st","nd","rd"],y=w%100;return"["+w+(g[(y-20)%10]||g[y]||g[0])+"]"}},p=function(w,g,y){var m=String(w);return!m||m.length>=g?w:""+Array(g+1-m.length).join(y)+w},v={s:p,z:function(w){var g=-w.utcOffset(),y=Math.abs(g),m=Math.floor(y/60),b=y%60;return(g<=0?"+":"-")+p(m,2,"0")+":"+p(b,2,"0")},m:function w(g,y){if(g.date()<y.date())return-w(y,g);var m=12*(y.year()-g.year())+(y.month()-g.month()),b=g.clone().add(m,u),E=y-b<0,I=g.clone().add(m+(E?-1:1),u);return+(-(m+(y-b)/(E?b-I:I-b))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:u,y:l,w:s,d:c,D:d,h:i,m:o,s:a,ms:n,Q:f}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},$="en",A={};A[$]=C;var N="$isDayjsObject",j=function(w){return w instanceof J||!(!w||!w[N])},q=function w(g,y,m){var b;if(!g)return $;if(typeof g=="string"){var E=g.toLowerCase();A[E]&&(b=E),y&&(A[E]=y,b=E);var I=g.split("-");if(!b&&I.length>1)return w(I[0])}else{var U=g.name;A[U]=g,b=U}return!m&&b&&($=b),b||!m&&$},W=function(w,g){if(j(w))return w.clone();var y=typeof g=="object"?g:{};return y.date=w,y.args=arguments,new J(y)},R=v;R.l=q,R.i=j,R.w=function(w,g){return W(w,{locale:g.$L,utc:g.$u,x:g.$x,$offset:g.$offset})};var J=(function(){function w(y){this.$L=q(y.locale,null,!0),this.parse(y),this.$x=this.$x||y.x||{},this[N]=!0}var g=w.prototype;return g.parse=function(y){this.$d=(function(m){var b=m.date,E=m.utc;if(b===null)return new Date(NaN);if(R.u(b))return new Date;if(b instanceof Date)return new Date(b);if(typeof b=="string"&&!/Z$/i.test(b)){var I=b.match(x);if(I){var U=I[2]-1||0,V=(I[7]||"0").substring(0,3);return E?new Date(Date.UTC(I[1],U,I[3]||1,I[4]||0,I[5]||0,I[6]||0,V)):new Date(I[1],U,I[3]||1,I[4]||0,I[5]||0,I[6]||0,V)}}return new Date(b)})(y),this.init()},g.init=function(){var y=this.$d;this.$y=y.getFullYear(),this.$M=y.getMonth(),this.$D=y.getDate(),this.$W=y.getDay(),this.$H=y.getHours(),this.$m=y.getMinutes(),this.$s=y.getSeconds(),this.$ms=y.getMilliseconds()},g.$utils=function(){return R},g.isValid=function(){return this.$d.toString()!==S},g.isSame=function(y,m){var b=W(y);return this.startOf(m)<=b&&b<=this.endOf(m)},g.isAfter=function(y,m){return W(y)<this.startOf(m)},g.isBefore=function(y,m){return this.endOf(m)<W(y)},g.$g=function(y,m,b){return R.u(y)?this[m]:this.set(b,y)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(y,m){var b=this,E=!!R.u(m)||m,I=R.p(y),U=function(be,Z){var de=R.w(b.$u?Date.UTC(b.$y,Z,be):new Date(b.$y,Z,be),b);return E?de:de.endOf(c)},V=function(be,Z){return R.w(b.toDate()[be].apply(b.toDate("s"),(E?[0,0,0,0]:[23,59,59,999]).slice(Z)),b)},G=this.$W,Y=this.$M,ee=this.$D,Pe="set"+(this.$u?"UTC":"");switch(I){case l:return E?U(1,0):U(31,11);case u:return E?U(1,Y):U(0,Y+1);case s:var ge=this.$locale().weekStart||0,je=(G<ge?G+7:G)-ge;return U(E?ee-je:ee+(6-je),Y);case c:case d:return V(Pe+"Hours",0);case i:return V(Pe+"Minutes",1);case o:return V(Pe+"Seconds",2);case a:return V(Pe+"Milliseconds",3);default:return this.clone()}},g.endOf=function(y){return this.startOf(y,!1)},g.$set=function(y,m){var b,E=R.p(y),I="set"+(this.$u?"UTC":""),U=(b={},b[c]=I+"Date",b[d]=I+"Date",b[u]=I+"Month",b[l]=I+"FullYear",b[i]=I+"Hours",b[o]=I+"Minutes",b[a]=I+"Seconds",b[n]=I+"Milliseconds",b)[E],V=E===c?this.$D+(m-this.$W):m;if(E===u||E===l){var G=this.clone().set(d,1);G.$d[U](V),G.init(),this.$d=G.set(d,Math.min(this.$D,G.daysInMonth())).$d}else U&&this.$d[U](V);return this.init(),this},g.set=function(y,m){return this.clone().$set(y,m)},g.get=function(y){return this[R.p(y)]()},g.add=function(y,m){var b,E=this;y=Number(y);var I=R.p(m),U=function(Y){var ee=W(E);return R.w(ee.date(ee.date()+Math.round(Y*y)),E)};if(I===u)return this.set(u,this.$M+y);if(I===l)return this.set(l,this.$y+y);if(I===c)return U(1);if(I===s)return U(7);var V=(b={},b[o]=e,b[i]=r,b[a]=t,b)[I]||1,G=this.$d.getTime()+y*V;return R.w(G,this)},g.subtract=function(y,m){return this.add(-1*y,m)},g.format=function(y){var m=this,b=this.$locale();if(!this.isValid())return b.invalidDate||S;var E=y||"YYYY-MM-DDTHH:mm:ssZ",I=R.z(this),U=this.$H,V=this.$m,G=this.$M,Y=b.weekdays,ee=b.months,Pe=b.meridiem,ge=function(Z,de,We,rt){return Z&&(Z[de]||Z(m,E))||We[de].slice(0,rt)},je=function(Z){return R.s(U%12||12,Z,"0")},be=Pe||function(Z,de,We){var rt=Z<12?"AM":"PM";return We?rt.toLowerCase():rt};return E.replace(T,(function(Z,de){return de||(function(We){switch(We){case"YY":return String(m.$y).slice(-2);case"YYYY":return R.s(m.$y,4,"0");case"M":return G+1;case"MM":return R.s(G+1,2,"0");case"MMM":return ge(b.monthsShort,G,ee,3);case"MMMM":return ge(ee,G);case"D":return m.$D;case"DD":return R.s(m.$D,2,"0");case"d":return String(m.$W);case"dd":return ge(b.weekdaysMin,m.$W,Y,2);case"ddd":return ge(b.weekdaysShort,m.$W,Y,3);case"dddd":return Y[m.$W];case"H":return String(U);case"HH":return R.s(U,2,"0");case"h":return je(1);case"hh":return je(2);case"a":return be(U,V,!0);case"A":return be(U,V,!1);case"m":return String(V);case"mm":return R.s(V,2,"0");case"s":return String(m.$s);case"ss":return R.s(m.$s,2,"0");case"SSS":return R.s(m.$ms,3,"0");case"Z":return I}return null})(Z)||I.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(y,m,b){var E,I=this,U=R.p(m),V=W(y),G=(V.utcOffset()-this.utcOffset())*e,Y=this-V,ee=function(){return R.m(I,V)};switch(U){case l:E=ee()/12;break;case u:E=ee();break;case f:E=ee()/3;break;case s:E=(Y-G)/6048e5;break;case c:E=(Y-G)/864e5;break;case i:E=Y/r;break;case o:E=Y/e;break;case a:E=Y/t;break;default:E=Y}return b?E:R.a(E)},g.daysInMonth=function(){return this.endOf(u).$D},g.$locale=function(){return A[this.$L]},g.locale=function(y,m){if(!y)return this.$L;var b=this.clone(),E=q(y,m,!0);return E&&(b.$L=E),b},g.clone=function(){return R.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},w})(),K=J.prototype;return W.prototype=K,[["$ms",n],["$s",a],["$m",o],["$H",i],["$W",c],["$M",u],["$y",l],["$D",d]].forEach((function(w){K[w[1]]=function(g){return this.$g(g,w[0],w[1])}})),W.extend=function(w,g){return w.$i||(w(g,J,W),w.$i=!0),W},W.locale=q,W.isDayjs=j,W.unix=function(w){return W(1e3*w)},W.en=A[$],W.Ls=A,W.p={},W}))});var Sc={};ko(Sc,{AddNewTodo:()=>Ue,default:()=>go});module.exports=xo(Sc);var k=require("@raycast/api");var D=le(require("react")),F=require("@raycast/api");var Tr=Object.prototype.hasOwnProperty;function at(t,e){var r,n;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&at(t[n],e[n]););return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(Tr.call(t,r)&&++n&&!Tr.call(e,r)||!(r in e)||!at(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}var $e=le(require("node:fs")),it=le(require("node:path")),_r=le(require("node:crypto")),Mr=le(require("node:child_process")),Lr=require("node:buffer"),Oe=le(require("node:stream")),Nr=require("node:util");var Ur=require("react/jsx-runtime");var Ot=globalThis;function Ao(t){let e=(0,D.useRef)(t),r=(0,D.useRef)(0);return at(t,e.current)||(e.current=t,r.current+=1),(0,D.useMemo)(()=>e.current,[r.current])}function Q(t){let e=(0,D.useRef)(t);return e.current=t,e}function To(t,e){let r=t instanceof Error?t.message:String(t);return(0,F.showToast)({style:F.Toast.Style.Failure,title:e?.title??"Something went wrong",message:e?.message??r,primaryAction:e?.primaryAction??Er(t),secondaryAction:e?.primaryAction?Er(t):void 0})}var Er=t=>{let e=!0,r="[Extension Name]...",n="";try{let i=JSON.parse((0,$e.readFileSync)((0,it.join)(F.environment.assetsPath,"..","package.json"),"utf8"));r=`[${i.title}]...`,n=`https://raycast.com/${i.owner||i.author}/${i.name}`,(!i.owner||i.access==="public")&&(e=!1)}catch{}let a=F.environment.isDevelopment||e,o=t instanceof Error?t?.stack||t?.message||"":String(t);return{title:a?"Copy Logs":"Report Error",onAction(i){i.hide(),a?F.Clipboard.copy(o):(0,F.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(r)}&extension-url=${encodeURI(n)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${o}
\`\`\`
`)}`)}}};function Eo(t,e,r){let n=(0,D.useRef)(0),[a,o]=(0,D.useState)({isLoading:!0}),i=Q(t),c=Q(r?.abortable),s=Q(e||[]),u=Q(r?.onError),f=Q(r?.onData),l=Q(r?.onWillExecute),d=Q(r?.failureToastOptions),S=Q(a.data),x=(0,D.useRef)(null),T=(0,D.useRef)({page:0}),C=(0,D.useRef)(!1),p=(0,D.useRef)(!0),v=(0,D.useRef)(50),$=(0,D.useCallback)(()=>(c.current&&(c.current.current?.abort(),c.current.current=new AbortController),++n.current),[c]),A=(0,D.useCallback)((...K)=>{let w=$();l.current?.(K),o(m=>({...m,isLoading:!0}));let g=Po(i.current)(...K);function y(m){return m.name=="AbortError"||w===n.current&&(u.current?u.current(m):F.environment.launchType!==F.LaunchType.Background&&To(m,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(b){b.hide(),x.current?.(...s.current||[])}},...d.current}),o({error:m,isLoading:!1})),m}return typeof g=="function"?(C.current=!0,g(T.current).then(({data:m,hasMore:b,cursor:E})=>(w===n.current&&(T.current&&(T.current.cursor=E,T.current.lastItem=m?.[m.length-1]),f.current&&f.current(m,T.current),b&&(v.current=m.length),p.current=b,o(I=>T.current.page===0?{data:m,isLoading:!1}:{data:(I.data||[])?.concat(m),isLoading:!1})),m),m=>(p.current=!1,y(m)))):(C.current=!1,g.then(m=>(w===n.current&&(f.current&&f.current(m),o({data:m,isLoading:!1})),m),y))},[f,u,s,i,o,x,l,T,d,$]);x.current=A;let N=(0,D.useCallback)(()=>{T.current={page:0};let K=s.current||[];return A(...K)},[A,s]),j=(0,D.useCallback)(async(K,w)=>{let g;try{if(w?.optimisticUpdate){$(),typeof w?.rollbackOnError!="function"&&w?.rollbackOnError!==!1&&(g=structuredClone(S.current?.value));let y=w.optimisticUpdate;o(m=>({...m,data:y(m.data)}))}return await K}catch(y){if(typeof w?.rollbackOnError=="function"){let m=w.rollbackOnError;o(b=>({...b,data:m(b.data)}))}else w?.optimisticUpdate&&w?.rollbackOnError!==!1&&o(m=>({...m,data:g}));throw y}finally{w?.shouldRevalidateAfter!==!1&&(F.environment.launchType===F.LaunchType.Background||F.environment.commandMode==="menu-bar"?await N():N())}},[N,S,o,$]),q=(0,D.useCallback)(()=>{T.current.page+=1;let K=s.current||[];A(...K)},[T,s,A]);(0,D.useEffect)(()=>{T.current={page:0},r?.execute!==!1?A(...e||[]):$()},[Ao([e,r?.execute,A]),c,T]),(0,D.useEffect)(()=>()=>{$()},[$]);let W=r?.execute!==!1?a.isLoading:!1,R={...a,isLoading:W},J=C.current?{pageSize:v.current,hasMore:p.current,onLoadMore:q}:void 0;return{...R,revalidate:N,mutate:j,pagination:J}}function Po(t){return t===Promise.all||t===Promise.race||t===Promise.resolve||t===Promise.reject?t.bind(Promise):t}function Pr(t){return typeof t!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(t))!==null}function Io(t){return t instanceof URLSearchParams?t.toString():t}function Fr(t,e=[]){function r(n){return"update"in t?t.update(n,"utf8"):t.write(n)}return{dispatch:function(n){n=Io(n),n===null?this._null():this["_"+typeof n](n)},_object:function(n){let a=/\[object (.*)\]/i,o=Object.prototype.toString.call(n),i=a.exec(o)?.[1]??"unknown:["+o+"]";i=i.toLowerCase();let c=null;if((c=e.indexOf(n))>=0){this.dispatch("[CIRCULAR:"+c+"]");return}else e.push(n);if(Buffer.isBuffer(n))return r("buffer:"),r(n.toString("utf8"));if(i!=="object"&&i!=="function"&&i!=="asyncfunction")if(this["_"+i])this["_"+i](n);else throw new Error('Unknown object type "'+i+'"');else{let s=Object.keys(n);s=s.sort(),Pr(n)||s.splice(0,0,"prototype","__proto__","constructor"),r("object:"+s.length+":");let u=this;return s.forEach(function(f){u.dispatch(f),r(":"),u.dispatch(n[f]),r(",")})}},_array:function(n,a){a=typeof a<"u"?a:!1;let o=this;if(r("array:"+n.length+":"),!a||n.length<=1){n.forEach(function(s){o.dispatch(s)});return}let i=[],c=n.map(function(s){let u=Oo(),f=e.slice();return Fr(u,f).dispatch(s),i=i.concat(f.slice(e.length)),u.read().toString()});e=e.concat(i),c.sort(),this._array(c,!1)},_date:function(n){r("date:"+n.toJSON())},_symbol:function(n){r("symbol:"+n.toString())},_error:function(n){r("error:"+n.toString())},_boolean:function(n){r("bool:"+n.toString())},_string:function(n){r("string:"+n.length+":"),r(n.toString())},_function:function(n){r("fn:"),Pr(n)?this.dispatch("[native]"):this.dispatch(n.toString()),this.dispatch("function-name:"+String(n.name)),this._object(n)},_number:function(n){r("number:"+n.toString())},_xml:function(n){r("xml:"+n.toString())},_null:function(){r("Null")},_undefined:function(){r("Undefined")},_regexp:function(n){r("regex:"+n.toString())},_uint8array:function(n){r("uint8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint8clampedarray:function(n){r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(n))},_int8array:function(n){r("int8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint16array:function(n){r("uint16array:"),this.dispatch(Array.prototype.slice.call(n))},_int16array:function(n){r("int16array:"),this.dispatch(Array.prototype.slice.call(n))},_uint32array:function(n){r("uint32array:"),this.dispatch(Array.prototype.slice.call(n))},_int32array:function(n){r("int32array:"),this.dispatch(Array.prototype.slice.call(n))},_float32array:function(n){r("float32array:"),this.dispatch(Array.prototype.slice.call(n))},_float64array:function(n){r("float64array:"),this.dispatch(Array.prototype.slice.call(n))},_arraybuffer:function(n){r("arraybuffer:"),this.dispatch(new Uint8Array(n))},_url:function(n){r("url:"+n.toString())},_map:function(n){r("map:");let a=Array.from(n);this._array(a,!0)},_set:function(n){r("set:");let a=Array.from(n);this._array(a,!0)},_file:function(n){r("file:"),this.dispatch([n.name,n.size,n.type,n.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){r("domwindow")},_bigint:function(n){r("bigint:"+n.toString())},_process:function(){r("process")},_timer:function(){r("timer")},_pipe:function(){r("pipe")},_tcp:function(){r("tcp")},_udp:function(){r("udp")},_tty:function(){r("tty")},_statwatcher:function(){r("statwatcher")},_securecontext:function(){r("securecontext")},_connection:function(){r("connection")},_zlib:function(){r("zlib")},_context:function(){r("context")},_nodescript:function(){r("nodescript")},_httpparser:function(){r("httpparser")},_dataview:function(){r("dataview")},_signal:function(){r("signal")},_fsevent:function(){r("fsevent")},_tlswrap:function(){r("tlswrap")}}}function Oo(){return{buf:"",write:function(t){this.buf+=t},end:function(t){this.buf+=t},read:function(){return this.buf}}}function Do(t,e){let r=this[t];return r instanceof Date?`__raycast_cached_date__${r.toString()}`:Buffer.isBuffer(r)?`__raycast_cached_buffer__${r.toString("base64")}`:e}function Ro(t,e){return typeof e=="string"&&e.startsWith("__raycast_cached_date__")?new Date(e.replace("__raycast_cached_date__","")):typeof e=="string"&&e.startsWith("__raycast_cached_buffer__")?Buffer.from(e.replace("__raycast_cached_buffer__",""),"base64"):e}function Ir(t){let e=_r.default.createHash("sha1");return Fr(e).dispatch(t),e.digest("hex")}var Co=Symbol("cache without namespace"),Or=new Map;function _o(t,e,r){let n=r?.cacheNamespace||Co,a=Or.get(n)||Or.set(n,new F.Cache({namespace:r?.cacheNamespace})).get(n);if(!a)throw new Error("Missing cache");let o=Q(t),i=Q(e),c=(0,D.useSyncExternalStore)(a.subscribe,()=>{try{return a.get(o.current)}catch(l){console.error("Could not get Cache data:",l);return}}),s=(0,D.useMemo)(()=>{if(typeof c<"u"){if(c==="undefined")return;try{return JSON.parse(c,Ro)}catch(l){return console.warn("The cached data is corrupted",l),i.current}}else return i.current},[c,i]),u=Q(s),f=(0,D.useCallback)(l=>{let d=typeof l=="function"?l(u.current):l;if(typeof d>"u")a.set(o.current,"undefined");else{let S=JSON.stringify(d,Do);a.set(o.current,S)}return d},[a,o,u]);return[s,f]}var Ie=Symbol();function De(t,e,r){let{initialData:n,keepPreviousData:a,internal_cacheKeySuffix:o,...i}=r||{},c=(0,D.useRef)(null),[s,u]=_o(Ir(e||[])+o,Ie,{cacheNamespace:Ir(t)}),f=(0,D.useRef)(s!==Ie?s:n),l=(0,D.useRef)(void 0),{mutate:d,revalidate:S,...x}=Eo(t,e||[],{...i,onData($,A){l.current=A,i.onData&&i.onData($,A),!(A&&A.page>0)&&(c.current="promise",f.current=$,u($))}}),T,C=x.pagination;l.current&&l.current.page>0&&x.data?T=x.data:c.current==="promise"?T=f.current:a&&s!==Ie?(T=s,C&&(C.hasMore=!0,C.pageSize=s.length)):a&&s===Ie?T=f.current:s!==Ie?(T=s,C&&(C.hasMore=!0,C.pageSize=s.length)):T=n;let p=Q(T),v=(0,D.useCallback)(async($,A)=>{let N;try{if(A?.optimisticUpdate){typeof A?.rollbackOnError!="function"&&A?.rollbackOnError!==!1&&(N=structuredClone(p.current));let j=A.optimisticUpdate(p.current);c.current="cache",f.current=j,u(j)}return await d($,{shouldRevalidateAfter:A?.shouldRevalidateAfter})}catch(j){if(typeof A?.rollbackOnError=="function"){let q=A.rollbackOnError(p.current);c.current="cache",f.current=q,u(q)}else A?.optimisticUpdate&&A?.rollbackOnError!==!1&&(c.current="cache",f.current=N,u(N));throw j}},[u,d,p,f,c]);return(0,D.useEffect)(()=>{s!==Ie&&(c.current="cache",f.current=s)},[s]),{data:T,isLoading:x.isLoading,error:x.error,mutate:l.current&&l.current.page>0?d:v,pagination:C,revalidate:S}}var ot=t=>!!t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function",Dt=Symbol.for("signal-exit emitter"),_t=class{constructor(){if(this.emitted={afterExit:!1,exit:!1},this.listeners={afterExit:[],exit:[]},this.count=0,this.id=Math.random(),Ot[Dt])return Ot[Dt];Object.defineProperty(Ot,Dt,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(e,r){this.listeners[e].push(r)}removeListener(e,r){let n=this.listeners[e],a=n.indexOf(r);a!==-1&&(a===0&&n.length===1?n.length=0:n.splice(a,1))}emit(e,r,n){if(this.emitted[e])return!1;this.emitted[e]=!0;let a=!1;for(let o of this.listeners[e])a=o(r,n)===!0||a;return e==="exit"&&(a=this.emit("afterExit",r,n)||a),a}},Mt=class{onExit(){return()=>{}}load(){}unload(){}},Lt=class{#s;#t;#e;#o;#i;#a;#n;#r;constructor(e){this.#s=process.platform==="win32"?"SIGINT":"SIGHUP",this.#t=new _t,this.#a={},this.#n=!1,this.#r=[],this.#r.push("SIGHUP","SIGINT","SIGTERM"),globalThis.process.platform!=="win32"&&this.#r.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),globalThis.process.platform==="linux"&&this.#r.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT"),this.#e=e,this.#a={};for(let r of this.#r)this.#a[r]=()=>{let n=this.#e.listeners(r),{count:a}=this.#t,o=e;if(typeof o.__signal_exit_emitter__=="object"&&typeof o.__signal_exit_emitter__.count=="number"&&(a+=o.__signal_exit_emitter__.count),n.length===a){this.unload();let i=this.#t.emit("exit",null,r),c=r==="SIGHUP"?this.#s:r;i||e.kill(e.pid,c)}};this.#i=e.reallyExit,this.#o=e.emit}onExit(e,r){if(!ot(this.#e))return()=>{};this.#n===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#t.on(n,e),()=>{this.#t.removeListener(n,e),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#n){this.#n=!0,this.#t.count+=1;for(let e of this.#r)try{let r=this.#a[e];r&&this.#e.on(e,r)}catch{}this.#e.emit=(e,...r)=>this.#l(e,...r),this.#e.reallyExit=e=>this.#c(e)}}unload(){this.#n&&(this.#n=!1,this.#r.forEach(e=>{let r=this.#a[e];if(!r)throw new Error("Listener not defined for signal: "+e);try{this.#e.removeListener(e,r)}catch{}}),this.#e.emit=this.#o,this.#e.reallyExit=this.#i,this.#t.count-=1)}#c(e){return ot(this.#e)?(this.#e.exitCode=e||0,this.#t.emit("exit",this.#e.exitCode,null),this.#i.call(this.#e,this.#e.exitCode)):0}#l(e,...r){let n=this.#o;if(e==="exit"&&ot(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let a=n.call(this.#e,e,...r);return this.#t.emit("exit",this.#e.exitCode,null),a}else return n.call(this.#e,e,...r)}},Rt=null,Mo=(t,e)=>(Rt||(Rt=ot(process)?new Lt(process):new Mt),Rt.onExit(t,e));function Lo(t,{timeout:e}={}){let r=new Promise((c,s)=>{t.on("exit",(u,f)=>{c({exitCode:u,signal:f,timedOut:!1})}),t.on("error",u=>{s(u)}),t.stdin&&t.stdin.on("error",u=>{s(u)})}),n=Mo(()=>{t.kill()});if(e===0||e===void 0)return r.finally(()=>n());let a,o=new Promise((c,s)=>{a=setTimeout(()=>{t.kill("SIGTERM"),s(Object.assign(new Error("Timed out"),{timedOut:!0,signal:"SIGTERM"}))},e)}),i=r.finally(()=>{clearTimeout(a)});return Promise.race([o,i]).finally(()=>n())}var Nt=class extends Error{constructor(){super("The output is too big"),this.name="MaxBufferError"}};function No(t){let{encoding:e}=t,r=e==="buffer",n=new Oe.default.PassThrough({objectMode:!1});e&&e!=="buffer"&&n.setEncoding(e);let a=0,o=[];return n.on("data",i=>{o.push(i),a+=i.length}),n.getBufferedValue=()=>r?Buffer.concat(o,a):o.join(""),n.getBufferedLength=()=>a,n}async function Dr(t,e){let r=No(e);return await new Promise((n,a)=>{let o=i=>{i&&r.getBufferedLength()<=Lr.constants.MAX_LENGTH&&(i.bufferedData=r.getBufferedValue()),a(i)};(async()=>{try{await(0,Nr.promisify)(Oe.default.pipeline)(t,r),n()}catch(i){o(i)}})(),r.on("data",()=>{r.getBufferedLength()>8e7&&o(new Nt)})}),r.getBufferedValue()}async function Rr(t,e){t.destroy();try{return await e}catch(r){return r.bufferedData}}async function Uo({stdout:t,stderr:e},{encoding:r},n){let a=Dr(t,{encoding:r}),o=Dr(e,{encoding:r});try{return await Promise.all([n,a,o])}catch(i){return Promise.all([{error:i,exitCode:null,signal:i.signal,timedOut:i.timedOut||!1},Rr(t,a),Rr(e,o)])}}function Fo(t){let e=typeof t=="string"?`
`:10,r=typeof t=="string"?"\r":13;return t[t.length-1]===e&&(t=t.slice(0,-1)),t[t.length-1]===r&&(t=t.slice(0,-1)),t}function Cr(t,e){return t.stripFinalNewline?Fo(e):e}function jo({timedOut:t,timeout:e,signal:r,exitCode:n}){return t?`timed out after ${e} milliseconds`:r!=null?`was killed with ${r}`:n!=null?`failed with exit code ${n}`:"failed"}function Wo({stdout:t,stderr:e,error:r,signal:n,exitCode:a,command:o,timedOut:i,options:c,parentError:s}){let f=`Command ${jo({timedOut:i,timeout:c?.timeout,signal:n,exitCode:a})}: ${o}`,l=r?`${f}
${r.message}`:f,d=[l,e,t].filter(Boolean).join(`
`);return r?r.originalMessage=r.message:r=s,r.message=d,r.shortMessage=l,r.command=o,r.exitCode=a,r.signal=n,r.stdout=t,r.stderr=e,"bufferedData"in r&&delete r.bufferedData,r}function Vo({stdout:t,stderr:e,error:r,exitCode:n,signal:a,timedOut:o,command:i,options:c,parentError:s}){if(r||n!==0||a!==null)throw Wo({error:r,exitCode:n,signal:a,stdout:t,stderr:e,command:i,timedOut:o,options:c,parentError:s});return t}var st=(function(t){return t.Required="required",t})({});function Ct(t,e){if(t){if(typeof t=="function")return t(e);if(t==="required"){let r=typeof e<"u"&&e!==null;if(r)switch(typeof e){case"string":r=e.length>0;break;case"object":Array.isArray(e)?r=e.length>0:e instanceof Date&&(r=e.getTime()>0);break;default:break}if(!r)return"The item is required"}}}function ct(t){let{onSubmit:e,validation:r,initialValues:n={}}=t,[a,o]=(0,D.useState)(n),[i,c]=(0,D.useState)({}),s=(0,D.useRef)({}),u=Q(r||{}),f=Q(e),l=(0,D.useCallback)(p=>{s.current[p]?.focus()},[s]),d=(0,D.useCallback)(async p=>{let v=!1;for(let[A,N]of Object.entries(u.current)){let j=Ct(N,p[A]);j&&(v||(v={},l(A)),v[A]=j)}if(v)return c(v),!1;let $=await f.current(p);return typeof $=="boolean"?$:!0},[u,f,l]),S=(0,D.useCallback)((p,v)=>{c($=>({...$,[p]:v}))},[c]),x=(0,D.useCallback)(function(p,v){o($=>({...$,[p]:typeof v=="function"?v($[p]):v}))},[o]),T=(0,D.useMemo)(()=>new Proxy({},{get(p,v){let $=u.current[v],A=a[v];return{onChange(N){i[v]&&(Ct($,N)||S(v,void 0)),x(v,N)},onBlur(N){let j=Ct($,N.target.value);j&&S(v,j)},error:i[v],id:v,value:typeof A>"u"?null:A,ref:N=>{s.current[v]=N}}}}),[i,u,S,a,s,x]),C=(0,D.useCallback)(p=>{c({}),Object.entries(s.current).forEach(([v,$])=>{p?.[v]||$?.reset()}),p&&o(p)},[o,c,s]);return{handleSubmit:d,setValidationError:S,setValue:x,values:a,itemProps:T,focus:l,reset:C}}async function jr(t,e,r){if(process.platform!=="darwin")throw new Error("AppleScript is only supported on macOS");let{humanReadableOutput:n,language:a,timeout:o,...i}=Array.isArray(e)?r||{}:e||{},c=n!==!1?[]:["-ss"];a==="JavaScript"&&c.push("-l","JavaScript"),Array.isArray(e)&&c.push("-",...e);let s=Mr.default.spawn("osascript",c,{...i,env:{PATH:"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin"}}),u=Lo(s,{timeout:o??1e4});s.stdin.end(t);let[{error:f,exitCode:l,signal:d,timedOut:S},x,T]=await Uo(s,{encoding:"utf8"},u),C=Cr({stripFinalNewline:!0},x),p=Cr({stripFinalNewline:!0},T);return Vo({stdout:C,stderr:p,error:f,exitCode:l,signal:d,timedOut:S,command:"osascript",options:r,parentError:new Error})}var eo=require("child_process"),to=require("util"),te=require("@raycast/api");var kt=le(Xa()),me=(0,te.getPreferenceValues)(),re=class extends Error{constructor(r,n,a,o){super(o?`${o}: ${r}`:r);this.type=n;this.originalError=a;this.operation=o;this.name="ThingsError"}},ye=async(t,e)=>{try{let r=await jr(`(function(){${t}})()`,{humanReadableOutput:!1,language:"JavaScript",timeout:6e4});return r?JSON.parse(r.replace(/:\s*undefined/g,": null")):void 0}catch(r){let a=(typeof r=="string"?r:r instanceof Error?r.message:String(r)).replace("execution error: Error: ","");throw a.match(/Application can't be found/i)?new re("Things application not found. Please make sure Things is installed and running.","APP_NOT_FOUND",a,e):a.match(/not allowed assistive access/i)||a.match(/permission/i)||a.match(/-1743/)?new re("Permission denied. Please grant Raycast access to Things in System Settings > Privacy & Security > Automation > Raycast > Things.","PERMISSION_DENIED",a,e):a.match(/doesn't understand/i)||a.match(/can't get/i)?new re("Things automation interface error. This might be due to a Things version incompatibility or the app not being ready.","EXECUTION_ERROR",a,e):a.match(/timed out/i)?new re("Command timed out. Things may be unresponsive or not running.","EXECUTION_ERROR",a,e):new re(`Unexpected error: ${a}`,"UNKNOWN_ERROR",a,e)}},hc={inbox:"TMInboxListSource",today:"TMTodayListSource",anytime:"TMNextListSource",upcoming:"TMCalendarListSource",someday:"TMSomedayListSource",logbook:"TMLogbookListSource",trash:"TMTrashListSource"},ro=t=>ye(`
  const things = Application('${me.thingsAppIdentifier}');
  const todos = things.lists.byId('${hc[t]}').toDos();

  return todos.map(todo => ({
    id: todo.id(),
    name: todo.name(),
    status: todo.status(),
    notes: todo.notes(),
    tags: todo.tagNames(),
    dueDate: todo.dueDate() && todo.dueDate().toISOString(),
    activationDate: todo.activationDate() && todo.activationDate().toISOString(),
    isProject: todo.properties().pcls === "project",
    project: todo.project() && {
      id: todo.project().id(),
      name: todo.project().name(),
      status: todo.project().status(),
      tags: todo.project().tagNames(),
      dueDate: todo.project().dueDate() && todo.project().dueDate().toISOString(),
      activationDate: todo.project().activationDate() && todo.project().activationDate().toISOString(),
      area: todo.project().area() && {
        id: todo.project().area().id(),
        name: todo.project().area().name(),
        tags: todo.project().area().tagNames(),
      },
    },
    area: todo.area() && {
      id: todo.area().id(),
      name: todo.area().name(),
      tags: todo.area().tagNames(),
    },
  }));
`,`Get ${t} list`);var pr=(t,e,r)=>ye(`
  const things = Application('${me.thingsAppIdentifier}');
  things.toDos.byId('${t}').${e} = '${r}';
`,"Set todo property"),no=t=>ye(`
  const things = Application('${me.thingsAppIdentifier}');
  things.delete(things.toDos.byId('${t}'));
`,"Delete todo"),ao=t=>ye(`
  const things = Application('${me.thingsAppIdentifier}');
  things.delete(things.projects.byId('${t}'));
`,"Delete project"),oo="tag => tag.name()",mc=`todo => ({
  id: todo.id(),
  name: todo.name(),
  status: todo.status(),
  notes: todo.notes(),
  tags: todo.tagNames(),
  dueDate: todo.dueDate() && todo.dueDate().toISOString(),
  activationDate: todo.activationDate() && todo.activationDate().toISOString(),
})`,io=`project => ({
  id: project.id(),
  name: project.name(),
  status: project.status(),
  notes: project.notes(),
  tags: project.tagNames(),
  dueDate: project.dueDate() && project.dueDate().toISOString(),
  activationDate: project.activationDate() && project.activationDate().toISOString(),
  area: project.area() && {
    id: project.area().id(),
    name: project.area().name(),
    tags: project.area().tagNames(),
  },
  todos: project.toDos().map(${mc})
})`,yc=`todo => ({
  id: todo.id(),
  name: todo.name(),
  status: todo.status(),
  notes: todo.notes(),
  tags: todo.tagNames(),
  dueDate: todo.dueDate() && todo.dueDate().toISOString(),
  activationDate: todo.activationDate() && todo.activationDate().toISOString(),
  isProject: todo.properties().pcls === "project",
})`,so=`area => ({
  id: area.id(),
  name: area.name(),
  tags: area.tagNames(),
  todos: area.toDos().map(${yc})
})`,co=()=>ye(`
  const things = Application('${me.thingsAppIdentifier}');
  return things.tags().map(${oo});
`,"Get tags"),gc=async()=>ye(`
    const things = Application('${me.thingsAppIdentifier}');
    return things.projects().map(${io});
  `,"Get projects"),bc=async()=>ye(`
    const things = Application('${me.thingsAppIdentifier}');
    return things.areas().map(${so});
  `,"Get areas"),$c=async()=>ye(`
    const things = Application('${me.thingsAppIdentifier}');

    const tags = things.tags().map(${oo});
    const projects = things.projects().map(${io});
    const areas = things.areas().map(${so});

    return { tags, projects, areas };
  `,"Get tags, projects, and areas"),lo=async()=>{let{tags:t,projects:e,areas:r}=await $c(),n=e.filter(i=>!i.area).map(i=>({...i,type:"project"})),a=[];return r.forEach(i=>{a.push({...i,type:"area"});let c=e.filter(s=>s.area&&s.area.id===i.id).map(s=>({...s,type:"project"}));a.push(...c)}),{lists:[...n,...a],tags:t}},uo=async()=>{let t=await gc()||[],e=await bc()||[],r=t.filter(a=>!a.area).map(a=>({...a,type:"project"})),n=[];return e.forEach(a=>{n.push({...a,type:"area"});let o=t.filter(i=>i.area&&i.area.id===a.id).map(i=>({...i,type:"project"}));n.push(...o)}),[...r,...n]};async function hr(t){await(0,to.promisify)(eo.exec)(`open -g "${t}"`)}async function xt(t,e){let{authToken:r}=(0,te.getPreferenceValues)();if(!r)throw new Error("unauthorized");await hr(`things:///update?${kt.default.stringify({"auth-token":r,id:t,...e})}`)}async function At(t,e){let{authToken:r}=(0,te.getPreferenceValues)();if(!r)throw new Error("unauthorized");await hr(`things:///update-project?${kt.default.stringify({"auth-token":r,id:t,...e})}`)}async function fo(t){await hr(`things:///add?${kt.default.stringify(t)}`)}function Tt(t,e){if(t instanceof Error&&t.message==="unauthorized"){(0,te.showToast)({style:te.Toast.Style.Failure,title:"This action needs an authentication token.",message:`Please set it in the extension preferences.
You can find your unique token in Things\u2019 settings. go to Things \u2192 Settings \u2192 General \u2192 Enable Things URLs \u2192 Manage`,primaryAction:{title:"Open Extension Preferences",onAction(r){(0,te.openExtensionPreferences)(),r.hide()}}});return}(0,te.showToast)({style:te.Toast.Style.Failure,title:e??"Something went wrong",message:t instanceof Error?t.message:String(t)})}var tt=require("@raycast/api");var yo=require("react");var po=le(gr()),ho=(t,e)=>`${t} ${e}${t>1?"s":""}`,br=t=>t.charAt(0).toUpperCase()+t.slice(1),$r=t=>(0,po.default)(t).format("YYYY-MM-DD");var ie=require("@raycast/api");var Ae=require("react/jsx-runtime");function vr({searchText:t,commandListName:e}){return(0,Ae.jsx)(ie.List.EmptyView,{title:"No to-dos found.",description:"Press \u2318 + K to create a new to-do or search in Things",actions:(0,Ae.jsxs)(ie.ActionPanel,{children:[(0,Ae.jsx)(ie.Action.Push,{icon:ie.Icon.Plus,title:"Add New To-Do",target:(0,Ae.jsx)(Ue,{title:t,commandListName:e})}),(0,Ae.jsx)(ie.Action.OpenInBrowser,{title:"Search in Things",icon:ie.Icon.MagnifyingGlass,url:`things:///search?query=${t}`})]})})}var ce=require("@raycast/api"),Ee=le(gr());var L=require("@raycast/api"),X={inbox:{title:"Inbox",icon:{source:L.Icon.Tray,tintColor:L.Color.Blue}},today:{title:"Today",icon:{source:L.Icon.Star,tintColor:L.Color.Yellow}},evening:{title:"This Evening",icon:{source:L.Icon.Moon,tintColor:L.Color.Purple}},tomorrow:{title:"Tomorrow",icon:{source:L.Icon.ArrowClockwise,tintColor:L.Color.Orange}},upcoming:{title:"Upcoming",icon:{source:L.Icon.Calendar,tintColor:L.Color.Red}},anytime:{title:"Anytime",icon:{source:L.Icon.Layers,tintColor:L.Color.Green}},someday:{title:"Someday",icon:{source:L.Icon.Folder,tintColor:L.Color.SecondaryText}},logbook:{title:"Logbook",icon:{source:L.Icon.CheckCircle,tintColor:L.Color.Green}},list:t=>({title:t.name,icon:t.type==="area"?{source:L.Icon.Folder,tintColor:L.Color.Green}:{source:L.Icon.Circle,tintColor:L.Color.Blue}})},Xe={open:L.Icon.Circle,completed:{source:L.Icon.CheckCircle,tintColor:L.Color.Blue},canceled:{source:L.Icon.XMarkCircle,tintColor:L.Color.SecondaryText}},Al={open:L.Icon.Circle,completed:L.Icon.CheckCircle,canceled:L.Icon.XMarkCircle};function Et(t,e){return L.AI.ask(`Break down a task into sub-tasks. The sub-tasks should be actionable. Each item should be separated by a new line. Return the sub-tasks in the same language as the task's title language.

Note that each task doesn't start with a hyphen or a number. This is important.

For example, for a task named "Fix bug", you could write:
Find the root cause
Fix the bug
Write tests to prevent regressions
Ship the fix.

Here's the task you need to break-down: "${t}"
${e.length>0?`For additional context, here are the task's notes: "${e}"`:""}

Sub-tasks:`)}var h=require("@raycast/api");var se=require("@raycast/api");var Te=require("react/jsx-runtime");function wr({todo:t,refreshTodos:e}){let{pop:r}=(0,se.useNavigation)(),{handleSubmit:n,itemProps:a}=ct({async onSubmit(o){try{t.isProject?await At(t.id,{notes:o.notes,title:o.title}):await xt(t.id,{notes:o.notes,title:o.title}),e(),r()}catch(i){Tt(i)}},initialValues:{title:t.name,notes:t.notes},validation:{title:st.Required}});return(0,Te.jsxs)(se.Form,{navigationTitle:`Edit "${t.name}"`,actions:(0,Te.jsx)(se.ActionPanel,{children:(0,Te.jsx)(se.Action.SubmitForm,{title:"Edit To-Do",onSubmit:n})}),children:[(0,Te.jsx)(se.Form.TextField,{...a.title,title:"Title",placeholder:"New to-do"}),(0,Te.jsx)(se.Form.TextArea,{...a.notes,title:"Notes",placeholder:"Write some notes (Markdown enabled)",enableMarkdown:!0})]})}var O=require("react/jsx-runtime"),mo=require("react"),vc=/([a-zA-Z][a-zA-Z0-9.+-]+):(?:\/\/\S+|%\S+)/;function Sr({todo:t,refreshTodos:e,commandListName:r,tags:n,lists:a}){let o=n?.filter(p=>!t.tags?.includes(p))??[],i=t.area||t.project?.area,c=t.notes.match(vc)?.[0];async function s(p,v){try{t.isProject?await At(t.id,p):await xt(t.id,p),await(0,h.showToast)({style:h.Toast.Style.Success,title:v.title,message:v.message??t.name}),e()}catch($){Tt($)}}async function u(){let p=await(0,h.showToast)({style:h.Toast.Style.Animated,title:"Generating checklist",message:t.name}),v=await Et(t.name,t.notes);await(0,h.confirmAlert)({title:"Add these items to the checklist?",message:v.trim(),icon:{source:h.Icon.Stars,tintColor:h.Color.Yellow}})?await s({"append-checklist-items":v.trim()},{title:"Added checklist items"}):await p.hide()}async function f(){let p=await(0,h.showToast)({style:h.Toast.Style.Animated,title:"Making to-do actionable",message:t.name}),v=(await h.AI.ask(`Make a task title more actionable. Here are some examples:
Yoga \u2192 Do a yoga session
Fix bug \u2192 Investigate and fix the bug
Write post \u2192 Write a blog post about \u2026

Return the result in the same language than the task's title (e.g if the task title is written in French, the checklist should be written in French as well)
Here's the task title you need to make actionable: "${t.name}
${t.notes?`For additional context, here are the task's notes: "${t.notes}"`:""}

New title:
        `,{creativity:.2})).trim();await(0,h.confirmAlert)({title:"Change to-do's title?",message:`The new title will be: "${v}"`,icon:{source:h.Icon.Stars,tintColor:h.Color.Yellow}})?await s({title:v},{title:"Made to-do title actionable",message:v}):p.hide()}async function l(p){await s({when:p},{title:p==="anytime"?"Removed date":"Scheduled to-do"})}async function d(p){await s({"list-id":p},{title:"Made to-do title actionable",message:"Moved to-do"})}async function S(p){await s({"add-tags":p},{title:"Added tag"})}async function x(p){await s({deadline:p===null?"":p},{title:p===null?"Removed deadline":"Set deadline"})}async function T(){let p=t.isProject,v=p?"Delete Project":"Delete To-Do",$=p?"Are you sure you want to delete this project?":"Are you sure you want to delete this to-do?",A=p?ao:no;await(0,h.confirmAlert)({title:v,message:$,icon:{source:h.Icon.Trash,tintColor:h.Color.Red}})&&(await A(t.id),v=p?"Deleted project":"Deleted to-do",await(0,h.showToast)({style:h.Toast.Style.Success,title:v,message:t.name}),e())}function C(p){let v=p.getFullYear(),$=String(p.getMonth()+1).padStart(2,"0"),A=String(p.getDate()).padStart(2,"0"),N=`${v}-${$}-${A}`;if(h.Action.PickDate.isFullDay(p))return N;let j=String(p.getHours()).padStart(2,"0"),q=String(p.getMinutes()).padStart(2,"0");return`${N}@${j}:${q}`}return(0,O.jsxs)(h.ActionPanel,{children:[(0,O.jsxs)(h.ActionPanel.Section,{title:t.name,children:[(0,O.jsx)(h.Action.OpenInBrowser,{title:"Open in Things",icon:"things-flat.png",url:`things:///show?id=${t.id}`}),t.status!=="completed"&&(0,O.jsx)(h.Action,{title:"Mark as Completed",icon:Xe.completed,onAction:async()=>{await pr(t.id,"status","completed"),await(0,h.showToast)({style:h.Toast.Style.Success,title:"Marked as Completed",message:t.name}),e()}}),t.status!=="canceled"&&(0,O.jsx)(h.Action,{title:"Mark as Canceled",icon:Xe.canceled,shortcut:{modifiers:["opt","cmd"],key:"k"},onAction:async()=>{await pr(t.id,"status","canceled"),await(0,h.showToast)({style:h.Toast.Style.Success,title:"Marked as Canceled",message:t.name}),e()}})]}),(0,O.jsxs)(h.ActionPanel.Section,{children:[(0,O.jsxs)(h.ActionPanel.Submenu,{title:"Schedule",icon:h.Icon.Calendar,shortcut:{modifiers:["cmd"],key:"s"},children:[(0,O.jsx)(h.Action,{...X.today,onAction:()=>l("today")}),(0,O.jsx)(h.Action,{...X.evening,onAction:()=>l("evening")}),(0,O.jsx)(h.Action,{...X.tomorrow,onAction:()=>l("tomorrow")}),(0,O.jsx)(h.Action.PickDate,{title:"Date\u2026",icon:h.Icon.Calendar,min:new Date,onChange:p=>l(p?C(p):"anytime"),type:h.Action.PickDate.Type.DateTime}),(0,O.jsx)(h.Action,{...X.someday,onAction:()=>l("someday")})]}),a&&a.length>0?(0,O.jsx)(h.ActionPanel.Submenu,{title:"Move to",icon:h.Icon.ArrowRight,shortcut:{modifiers:["cmd","shift"],key:"m"},children:a.map(p=>(0,mo.createElement)(h.Action,{...X.list(p),key:p.id,onAction:()=>d(p.id)}))}):null,(0,O.jsx)(h.Action.Push,{title:"Edit To-Do",icon:h.Icon.Pencil,shortcut:h.Keyboard.Shortcut.Common.Edit,target:(0,O.jsx)(wr,{todo:t,refreshTodos:e})}),o&&o.length>0?(0,O.jsx)(h.ActionPanel.Submenu,{title:"Add Tag",icon:h.Icon.Tag,shortcut:{modifiers:["cmd","shift"],key:"t"},children:o.map(p=>(0,O.jsx)(h.Action,{title:p,onAction:()=>S(p)},p))}):null,(0,O.jsx)(h.Action.PickDate,{title:"Set Deadline",icon:h.Icon.Flag,shortcut:{modifiers:["cmd","shift"],key:"d"},min:new Date,onChange:p=>x(p?C(p):null),type:h.Action.PickDate.Type.Date}),h.environment.canAccess(h.AI)&&(0,O.jsx)(h.Action,{title:"Generate Checklist with AI",icon:h.Icon.BulletPoints,shortcut:{modifiers:["cmd","shift"],key:"c"},onAction:u}),(0,O.jsx)(h.Action,{title:"Make To-Do Actionable with AI",icon:h.Icon.Text,shortcut:{modifiers:["cmd","shift"],key:"a"},onAction:f}),(0,O.jsx)(h.Action,{title:"Delete",icon:h.Icon.Trash,style:h.Action.Style.Destructive,shortcut:h.Keyboard.Shortcut.Common.Remove,onAction:T})]}),c&&(0,O.jsxs)(h.ActionPanel.Section,{children:[(0,O.jsx)(h.Action.OpenInBrowser,{title:"Open URL from Notes",url:c,shortcut:{modifiers:["cmd","shift"],key:"o"}}),(0,O.jsx)(h.Action.CopyToClipboard,{title:"Copy URL from Notes",content:c})]}),(0,O.jsxs)(h.ActionPanel.Section,{children:[(0,O.jsx)(h.Action.CopyToClipboard,{title:"Copy Formatted To-Do URL",content:{html:`<a href="things:///show?id=${t.id}" title="${t.name}">${t.name}</a>`,text:t.name},shortcut:h.Keyboard.Shortcut.Common.CopyPath}),(0,O.jsx)(h.Action.CopyToClipboard,{title:"Copy To-Do URL",content:`things:///show?id=${t.id}`}),(0,O.jsx)(h.Action.CopyToClipboard,{title:"Copy To-Do Title",content:t.name,shortcut:h.Keyboard.Shortcut.Common.CopyName}),(0,O.jsx)(h.Action.CopyToClipboard,{title:"Copy To-Do Notes",content:t.notes})]}),t.project&&(0,O.jsxs)(h.ActionPanel.Section,{title:t.project.name,children:[(0,O.jsx)(h.Action.OpenInBrowser,{title:"Open Project in Things",icon:"things-flat.png",shortcut:{modifiers:["cmd"],key:"o"},url:`things:///show?id=${t.project.id}`}),(0,O.jsx)(h.Action.CopyToClipboard,{title:"Copy Project URL",content:`things:///show?id=${t.project.id}`})]}),i&&(0,O.jsxs)(h.ActionPanel.Section,{title:i.name,children:[(0,O.jsx)(h.Action.OpenInBrowser,{title:"Open Area in Things",icon:"things-flat.png",shortcut:{modifiers:["opt"],key:"o"},url:`things:///show?id=${i.id.replace("THMAreaParentSource/","")}`}),(0,O.jsx)(h.Action.CopyToClipboard,{title:"Copy Area URL",content:`things:///show?id=${i.id.replace("THMAreaParentSource/","")}`})]}),(0,O.jsxs)(h.ActionPanel.Section,{title:`${br(r)} List`,children:[(0,O.jsx)(h.Action.OpenInBrowser,{title:`Open ${br(r)} List in Things`,icon:"things-flat.png",shortcut:{modifiers:["ctrl"],key:"o"},url:`things:///show?id=${r.toLowerCase()}`}),(0,O.jsx)(h.Action.Push,{title:"Add New To-Do",icon:h.Icon.Plus,shortcut:{modifiers:["cmd"],key:"n"},target:(0,O.jsx)(Ue,{commandListName:r})}),(0,O.jsx)(h.Action.CopyToClipboard,{title:"Copy List URL",content:`things:///show?id=${r.toLowerCase()}`})]}),(0,O.jsx)(h.ActionPanel.Section,{children:(0,O.jsx)(h.Action,{title:"Refresh",icon:h.Icon.ArrowClockwise,shortcut:{modifiers:["cmd"],key:"r"},onAction:e})})]})}var kr=require("react/jsx-runtime"),wc=t=>{let e=(0,Ee.default)((0,Ee.default)().format("YYYY-MM-DD")).toISOString(),r=(0,Ee.default)(t).diff(e,"day"),n,a;return Math.abs(r)>=15?n=(0,Ee.default)(t).format("D MMM"):r===0?(n="Due today",a=ce.Color.Red):r>0&&r<=7?(n=`${r} day${r===1?"":"s"} left`,a=ce.Color.Orange):r<0&&(n=`${-r} day${r===-1?"":"s"} ago`,a=ce.Color.Red),{text:{value:n,color:a},icon:{source:ce.Icon.Flag,tintColor:a},tooltip:`Due date: ${(0,Ee.default)(t).format("dddd DD MMMM YYYY")}`}};function Pt({todo:t,refreshTodos:e,commandListName:r,displayActivationDates:n,tags:a,lists:o}){let i=[t.name,...t.notes.split(" "),t.tags,t.project?.name??"",t.project?.tags??"",t.area?.name??"",t.project?.area?.name??""],c=[];if(t.tags&&c.push({icon:ce.Icon.Tag,text:t.tags}),t.activationDate&&n){let s=new Date(t.activationDate);c.push({icon:ce.Icon.Calendar,date:s,tooltip:`Start date: ${(0,Ee.default)(t.activationDate).format("dddd DD MMMM YYYY")}`})}return t.dueDate&&c.push(wc(t.dueDate)),(0,kr.jsx)(ce.List.Item,{title:t.name,subtitle:t.notes,icon:Xe[t.status],keywords:i,accessories:c,actions:(0,kr.jsx)(Sr,{todo:t,refreshTodos:e,commandListName:r,lists:o,tags:a})},t.id)}var Fe=require("@raycast/api");var It=require("react/jsx-runtime");function et({error:t,onRetry:e}){let r=i=>{if(i instanceof re)switch(i.type){case"APP_NOT_FOUND":return{title:"Application Not Found",description:"The Things app is not running or not installed.",solutions:["**Start Things**: Open the Things app and make sure it's running","**Check Installation**: Verify Things is properly installed","**Restart**: Try quitting and restarting both Things and Raycast"],errorType:"Application Not Found"};case"PERMISSION_DENIED":return{title:"Permission Denied",description:"Raycast doesn't have permission to control Things.",solutions:["Open **System Settings** \u2192 **Privacy & Security** \u2192 **Automation**","Find **Raycast** in the list","Make sure **Things** is checked \u2705"],errorType:"Permission Denied"};case"EXECUTION_ERROR":return{title:"Things Communication Error",description:"There was an error communicating with Things.",solutions:["**Restart Things**: Quit and restart the Things app","**Wait and Retry**: If Things was just started, wait a moment and try again"],errorType:"Execution Error"};case"UNKNOWN_ERROR":return{title:"Unknown Error",description:"An unexpected error occurred while trying to communicate with Things.",solutions:["**Restart Both Apps**: Quit and restart both Things and Raycast","**Update**: Make sure both Things and Raycast are up to date"],errorType:"Unknown Error"}}return{title:"Error",description:"An error occurred while loading data from Things.",solutions:["Make sure Things is running","Check that Raycast has automation permissions","Try restarting both applications"],errorType:i.constructor.name}},n=(i,c)=>{let s=c instanceof re?c.originalError:c.message,u=c instanceof re?c.operation:void 0;return`# ${i.title}

${i.description}

## Solutions

${i.solutions.map((f,l)=>`${l+1}. ${f}`).join(`
`)}

## Technical Details

- Error Type: \`${i.errorType}\`${u?`
- Operation: \`${u}\``:""}
- Original Error: \`${s||"N/A"}\``},a=r(t),o=n(a,t);return(0,It.jsx)(Fe.Detail,{markdown:o,actions:e?(0,It.jsx)(Fe.ActionPanel,{children:(0,It.jsx)(Fe.Action,{title:"Try Again",onAction:e})}):void 0})}var fe=require("react/jsx-runtime");function xr({commandListName:t,displayActivationDates:e}){let{data:r}=De(()=>co()),{data:n}=De(()=>uo()),[a,o]=(0,yo.useState)(""),{data:i,isLoading:c,error:s,mutate:u}=De(l=>ro(l),[t]);if(s)return(0,fe.jsx)(et,{error:s,onRetry:()=>u()});if(!i&&!c)return(0,fe.jsx)(tt.Detail,{markdown:"## No Data\\n\\nNo to-dos found and no error occurred. This might indicate an issue with the Things connection."});let f=i?.reduce((l,d)=>{let S=d.project?.id||d.area?.id||"no-project-or-area";return l[S]||(l[S]={title:d.project?.name||d.area?.name,todos:[]}),l[S].todos.push(d),l},{})??{};return(0,fe.jsxs)(tt.List,{isLoading:c,searchBarPlaceholder:"Filter by name, notes, tags, project or area",onSearchTextChange:o,filtering:!0,children:[Object.entries(f).map(([l,d])=>l==="no-project-or-area"?d.todos.map(S=>(0,fe.jsx)(Pt,{todo:S,refreshTodos:u,commandListName:t,displayActivationDates:e,tags:r,lists:n},S.id)):(0,fe.jsx)(tt.List.Section,{title:d.title,subtitle:ho(d.todos.length,"to-do"),children:d.todos.map(S=>(0,fe.jsx)(Pt,{todo:S,refreshTodos:u,commandListName:t,tags:r,lists:n},S.id))},l)),(0,fe.jsx)(vr,{searchText:a,commandListName:t})]})}var M=require("react/jsx-runtime");function Ue({title:t,commandListName:e,draftValues:r}){let{push:n}=(0,k.useNavigation)(),{data:a,isLoading:o,error:i}=De(lo),c=a?.tags,s=a?.lists,{handleSubmit:u,itemProps:f,values:l,reset:d,focus:S,setValue:x}=ct({async onSubmit(){let p={title:l.title,notes:l.notes,when:l.when==="upcoming"&&l.date?$r(l.date):l.when,"list-id":l.listId,deadline:l.deadline?$r(l.deadline):"",...l.tags.length>0&&{tags:l.tags.join(",")},"checklist-items":l["checklist-items"]};await fo(p),await(0,k.showToast)({style:k.Toast.Style.Success,title:"Added new to-do",primaryAction:{title:"Go to list",shortcut:{modifiers:["cmd"],key:"g"},onAction(){let v;l.when==="today"||l.when==="evening"?v="today":l.when==="tomorrow"||l.when==="upcoming"?v="upcoming":l.when==="anytime"?v="anytime":l.when==="someday"?v="someday":l.when==="logbook"?v="logbook":l.when==="trash"?v="trash":v="inbox",n((0,M.jsx)(xr,{commandListName:v}))}}}),d({title:"",notes:"",tags:[],when:"",listId:"","checklist-items":"",deadline:null}),S("title")},initialValues:{title:t??r?.title??"",notes:r?.notes??"",tags:r?.tags??[],when:e??r?.when??null,"checklist-items":r?.["checklist-items"]??"",deadline:r?.deadline??null},validation:{title:st.Required}});async function T(){try{if(!l.title){await(0,k.showToast)({style:k.Toast.Style.Failure,title:"The to-do should have a title"});return}let p=await(0,k.showToast)({style:k.Toast.Style.Animated,title:"Generating checklist"}),v=await Et(l.title,l.notes);x("checklist-items",v.trim()),S("checklist-items"),await p.hide()}catch(p){let v=typeof p=="string"?p:p instanceof Error?p.message:String(p);await(0,k.showToast)({style:k.Toast.Style.Failure,title:"Failed to generate check-list",message:v})}}if(i)return(0,M.jsx)(et,{error:i});let C=new Date;return(0,M.jsxs)(k.Form,{isLoading:o,actions:(0,M.jsxs)(k.ActionPanel,{children:[(0,M.jsx)(k.Action.SubmitForm,{title:"Add New To-Do",onSubmit:u,icon:k.Icon.Plus}),k.environment.canAccess(k.AI)&&(0,M.jsx)(k.Action,{title:"Generate Checklist with AI",icon:k.Icon.BulletPoints,onAction:T}),(0,M.jsxs)(k.ActionPanel.Section,{children:[(0,M.jsx)(k.Action,{title:"Focus Title",icon:k.Icon.TextInput,onAction:()=>S("title"),shortcut:{modifiers:["cmd"],key:"1"}}),(0,M.jsx)(k.Action,{title:"Focus Notes",icon:k.Icon.TextInput,onAction:()=>S("notes"),shortcut:{modifiers:["cmd"],key:"2"}}),(0,M.jsx)(k.Action,{title:"Focus When",icon:k.Icon.TextInput,onAction:()=>S("when"),shortcut:{modifiers:["cmd"],key:"s"}}),(0,M.jsx)(k.Action,{title:"Focus List",icon:k.Icon.TextInput,onAction:()=>S("listId"),shortcut:{modifiers:["cmd","shift"],key:"m"}}),(0,M.jsx)(k.Action,{title:"Focus Tags",icon:k.Icon.TextInput,onAction:()=>S("tags"),shortcut:{modifiers:["cmd","shift"],key:"t"}}),(0,M.jsx)(k.Action,{title:"Focus Checklist",icon:k.Icon.TextInput,onAction:()=>S("checklist-items"),shortcut:{modifiers:["cmd","shift"],key:"c"}}),(0,M.jsx)(k.Action,{title:"Focus Deadline",icon:k.Icon.TextInput,onAction:()=>S("deadline"),shortcut:{modifiers:["cmd","shift"],key:"d"}})]})]}),enableDrafts:!t&&!e,children:[(0,M.jsx)(k.Form.TextField,{...f.title,title:"Title",placeholder:"New to-do"}),(0,M.jsx)(k.Form.TextArea,{...f.notes,title:"Notes",placeholder:"Write some notes (Markdown enabled)",enableMarkdown:!0}),(0,M.jsx)(k.Form.Separator,{}),(0,M.jsxs)(k.Form.Dropdown,{...f.when,title:"When",children:[(0,M.jsx)(k.Form.Dropdown.Item,{value:"",title:"No date"}),(0,M.jsx)(k.Form.Dropdown.Item,{value:"today",...X.today}),(0,M.jsx)(k.Form.Dropdown.Item,{value:"evening",...X.evening}),(0,M.jsx)(k.Form.Dropdown.Item,{value:"tomorrow",...X.tomorrow}),(0,M.jsx)(k.Form.Dropdown.Item,{value:"upcoming",...X.upcoming}),(0,M.jsx)(k.Form.Dropdown.Item,{value:"anytime",...X.anytime}),(0,M.jsx)(k.Form.Dropdown.Item,{value:"someday",...X.someday})]}),l.when==="upcoming"&&(0,M.jsx)(k.Form.DatePicker,{...f.date,title:"Start Date",min:C}),s&&s.length>0?(0,M.jsxs)(k.Form.Dropdown,{...f.listId,title:"List",children:[(0,M.jsx)(k.Form.Dropdown.Item,{value:"",title:"Inbox",icon:{source:k.Icon.Tray,tintColor:k.Color.Blue}}),s.map(p=>(0,M.jsx)(k.Form.Dropdown.Item,{value:p.id,...X.list(p)},p.id))]}):null,c&&c.length>0?(0,M.jsx)(k.Form.TagPicker,{...f.tags,title:"Tags",children:c.map(p=>(0,M.jsx)(k.Form.TagPicker.Item,{value:p,title:p},p))}):null,(0,M.jsx)(k.Form.TextArea,{...f["checklist-items"],title:"Checklist Items",placeholder:"Items separated by new lines"}),(0,M.jsx)(k.Form.DatePicker,{...f.deadline,title:"Deadline",type:k.Form.DatePicker.Type.Date,min:C})]})}function go({draftValues:t,launchContext:e}){return(0,M.jsx)(Ue,{draftValues:t,commandListName:e?.list})}0&&(module.exports={AddNewTodo});
